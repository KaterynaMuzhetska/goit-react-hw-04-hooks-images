{"version":3,"sources":["components/ImageGalleryItem/imageGalleryItem.module.css","components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","App.module.css","components/Searchbar/searchbar.module.css","services/api.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","Searchbar","onSubmit","useState","query","setQuery","className","styles","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","queryValue","currentTarget","toLowerCase","trim","ImageGallery","children","ImageGalleryItem","hitsId","srcWebformat","onClick","src","alt","ImageGalleryItemImage","Button","length","modalRoot","document","querySelector","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","target","GalleryLoader","color","height","width","App","hits","setHits","searchQuery","setSearchQuery","currentPage","setCurrentPage","isLoading","setIsLoading","error","setError","largeImageURL","setLargeImageURL","isModalOpen","setIsModalOpen","fetchHits","scrollTo","top","documentElement","scrollHeight","behavior","option","pageSize","get","then","response","data","api","prevHits","catch","finally","toggleModal","prevState","shouldRenderLoadMoreButton","Container","map","id","webformatURL","pictureId","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a0af7d6f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__3Fjbe\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__1CgQE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__OtCBC\",\"Modal\":\"modal_Modal__3veid\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2wY1i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__x0IBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"App_Container__vETMF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__1SCFa\",\"SearchForm\":\"searchbar_SearchForm__QLaqh\",\"SearchFormButton\":\"searchbar_SearchFormButton__3EaM1\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__2UKmq\",\"SearchFormInput\":\"searchbar_SearchFormInput__2-Hfg\"};","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\nconst KEY = \"21824668-10aeb8c8af54ec25684dd6884\";\r\n\r\nconst fetchHits = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `/?key=${KEY}&q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport { fetchHits };\r\n","import { useState } from \"react\";\r\n\r\nimport styles from \"../Searchbar/searchbar.module.css\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    const queryValue = e.currentTarget.value.toLowerCase().trim();\r\n    setQuery(queryValue);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onSubmit(query);\r\n\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import styles from \"../ImageGallery/imageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={styles.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nexport default ImageGallery;\r\n","import styles from \"../ImageGalleryItem/imageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ hitsId, srcWebformat, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={onClick}>\r\n      <img src={srcWebformat} alt=\"\" className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./button.module.css\";\r\n\r\nconst Button = ({ onClick, length }) => (\r\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal({ children, onClose }) {\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst GalleryLoader = () => (\r\n  <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n);\r\n\r\nexport default GalleryLoader;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport * as api from \"./services/api\";\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport ImageGalleryItem from \"./components/ImageGalleryItem/ImageGalleryItem\";\r\nimport Button from \"./components/Button\";\r\nimport Modal from \"./components/Modal\";\r\nimport GalleryLoader from \"./components/Loader\";\r\n\r\nimport styles from \"./App.module.css\";\r\n\r\nexport default function App() {\r\n  const [hits, setHits] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) {\r\n      return;\r\n    }\r\n    fetchHits();\r\n  }, [searchQuery]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }, [hits]);\r\n\r\n  const onChangeQuery = (query) => {\r\n    setSearchQuery(query);\r\n    setHits([]);\r\n    setCurrentPage(1);\r\n    setError(null);\r\n  };\r\n\r\n  const fetchHits = () => {\r\n    const option = { searchQuery, currentPage };\r\n    setIsLoading(true);\r\n    api\r\n      .fetchHits(option)\r\n      .then(\r\n        (prevHits) => setHits([...hits, ...prevHits]),\r\n        setCurrentPage(currentPage + 1)\r\n      )\r\n      .catch((error) => setError(error))\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  const handleImageClick = (url) => {\r\n    setLargeImageURL(url);\r\n    toggleModal();\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setIsModalOpen((prevState) => !prevState);\r\n  };\r\n\r\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\r\n\r\n  return (\r\n    <div className={styles.Container}>\r\n      <Searchbar onSubmit={onChangeQuery} />\r\n\r\n      {error && <p>Sorry! Somethimg went wrong. Try again, please!</p>}\r\n\r\n      <ImageGallery>\r\n        {hits.map(({ id, webformatURL, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            srcWebformat={webformatURL}\r\n            pictureId={id}\r\n            onClick={() => handleImageClick(largeImageURL)}\r\n          />\r\n        ))}\r\n      </ImageGallery>\r\n\r\n      {isLoading && <GalleryLoader />}\r\n\r\n      {shouldRenderLoadMoreButton && (\r\n        <Button onClick={fetchHits} length={hits.length} />\r\n      )}\r\n\r\n      {isModalOpen && (\r\n        <Modal onClose={toggleModal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}